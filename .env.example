# LINE Bot Configuration (Required)
LINE_CHANNEL_ACCESS_TOKEN=your_access_token_here
LINE_CHANNEL_SECRET=your_channel_secret_here

# LLM Configuration (Optional - at least one API key required for NLU features)
# Enables NLU intent parsing and query expansion
# Get Gemini API key from: https://aistudio.google.com/apikey
# Get Groq API key from: https://console.groq.com/keys
#GEMINI_API_KEY=your_gemini_api_key_here
#GROQ_API_KEY=your_groq_api_key_here

# LLM Provider Selection (Optional)
# Primary provider (default: gemini)
#LLM_PRIMARY_PROVIDER=gemini
# Fallback provider (default: groq)
#LLM_FALLBACK_PROVIDER=groq

# LLM Model Configuration (Optional - defaults shown)
#GEMINI_INTENT_MODEL=gemini-2.5-flash
#GEMINI_INTENT_FALLBACK_MODEL=gemini-2.5-flash-lite
#GEMINI_EXPANDER_MODEL=gemini-2.5-flash
#GEMINI_EXPANDER_FALLBACK_MODEL=gemini-2.5-flash-lite
#GROQ_INTENT_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct
#GROQ_INTENT_FALLBACK_MODEL=llama-3.3-70b-versatile
#GROQ_EXPANDER_MODEL=meta-llama/llama-4-scout-17b-16e-instruct
#GROQ_EXPANDER_FALLBACK_MODEL=llama-3.1-8b-instant

# Server Configuration
#PORT=10000
#LOG_LEVEL=info
#SHUTDOWN_TIMEOUT=30s

# Data Configuration
#DATA_DIR=/data
#CACHE_TTL=168h

# Scraper Configuration
#SCRAPER_TIMEOUT=60s
#SCRAPER_MAX_RETRIES=5

# Daily Refresh (Hardcoded)
# - contact: Refreshed daily at 3:00 AM Taiwan time, 7-day TTL
# - course: Refreshed daily at 3:00 AM Taiwan time, 7-day TTL
# - syllabus: Auto-enabled when LLM API key is set (for smart search)
# - sticker: Loaded once on startup (not in daily refresh)
# - id: Not refreshed (student data is static)

# Webhook Configuration
#WEBHOOK_TIMEOUT=60s

# Rate Limit Configuration
# All rate limiters use token bucket algorithm
# USER: Per-user request limiting (LINE webhook)
#   - Burst capacity: 6 tokens (can send 6 requests instantly)
#   - Refill rate: 1 token per 5 seconds (0.2 tokens/sec)
#USER_RATE_LIMIT_BURST=6
#USER_RATE_LIMIT_REFILL_PER_SEC=0.2

# LLM: Per-user LLM API limiting (NLU intent + query expansion)
#   - Max requests per hour: 50
#   - Automatically converts to burst=50, refill=50/3600 tokens/sec
#LLM_RATE_LIMIT_PER_HOUR=50

# GLOBAL: Global request limiting across all users (LINE API calls)
#   - Max requests per second: 100
#   - Automatically converts to burst=100, refill=100 tokens/sec
#GLOBAL_RATE_LIMIT_RPS=100
