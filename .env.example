# LINE Bot Configuration (Required)
LINE_CHANNEL_ACCESS_TOKEN=your_access_token_here
LINE_CHANNEL_SECRET=your_channel_secret_here

# LLM Configuration (Optional - at least one API key required for NLU features)
# Enables NLU intent parsing and query expansion
# Get Gemini API key from: https://aistudio.google.com/apikey
# Get Groq API key from: https://console.groq.com/keys
# Get Cerebras API key from: https://cloud.cerebras.ai/
#GEMINI_API_KEY=your_gemini_api_key_here
#GROQ_API_KEY=your_groq_api_key_here
#CEREBRAS_API_KEY=your_cerebras_api_key_here

# LLM Provider Selection (Optional)
# Comma-separated list of providers for automatic fallback (default: gemini,groq,cerebras)
# Only providers with valid API keys will be used
#LLM_PROVIDERS=gemini,groq,cerebras

# LLM Model Configuration (Optional - comma-separated fallback chain)
# First model is primary, rest are fallbacks tried in order
#GEMINI_INTENT_MODELS=gemini-2.5-flash,gemini-2.5-flash-lite
#GEMINI_EXPANDER_MODELS=gemini-2.5-flash,gemini-2.5-flash-lite
#GROQ_INTENT_MODELS=meta-llama/llama-4-maverick-17b-128e-instruct,llama-3.3-70b-versatile
#GROQ_EXPANDER_MODELS=meta-llama/llama-4-scout-17b-16e-instruct,llama-3.1-8b-instant
#CEREBRAS_INTENT_MODELS=llama-3.3-70b,llama-3.1-8b
#CEREBRAS_EXPANDER_MODELS=llama-3.3-70b,llama-3.1-8b

# Server Configuration
#PORT=10000
#LOG_LEVEL=info
#SHUTDOWN_TIMEOUT=30s

# Data Configuration
#DATA_DIR=/data
#CACHE_TTL=168h

# Scraper Configuration
#SCRAPER_TIMEOUT=60s
#SCRAPER_MAX_RETRIES=10

# Webhook Configuration
#WEBHOOK_TIMEOUT=60s

# Rate Limit Configuration
# All rate limiters use token bucket algorithm

# USER: Per-user request limiting (LINE webhook)
#   - Burst capacity: 12 tokens (can send 12 requests instantly)
#   - Refill rate: 1 token per 5 seconds (0.2 tokens/sec)
#USER_RATE_BURST=12
#USER_RATE_REFILL=0.2

# LLM: Per-user LLM API limiting (Multi-Layer: Hourly + Daily)
#   - Burst: 120 tokens (maximum instant AI requests)
#   - Refill: 60 tokens per hour (~0.01667 tokens/sec)
#   - Daily limit: 300 requests per day (true sliding window)
#LLM_RATE_BURST=120
#LLM_RATE_REFILL=60
#LLM_RATE_DAILY=300

# GLOBAL: Global request limiting across all users (LINE API calls)
#   - Max requests per second: 100
#GLOBAL_RATE_RPS=100

# Metrics Authentication (Optional)
# Used for /metrics endpoint Basic Auth when exposing to external monitoring
# Leave METRICS_PASSWORD empty to disable authentication (for internal networks)
#METRICS_USERNAME=prometheus
#METRICS_PASSWORD=your_secure_password_here
