# Scraper System

從 NTPU 官方網站抓取資料，包含防爬蟲機制、錯誤處理與快取整合。

## 核心元件

- **Client**: HTTP 客戶端，支援多 URL Failover、User-Agent 輪替、指數退避重試
- **URL Cache**: URL 快取，自動選擇可用的 failover URL

## 資料來源

| 模組 | 資料來源 | 說明 |
|------|---------|------|
| **ID** | LMS 數位學苑 2.0 | 學號、系所代碼 |
| **Contact** | SEA 校園聯絡簿 | 行政、學術單位聯絡資訊（Big5 編碼） |
| **Course** | SEA 課程查詢 | 課號、課程名稱（U/M/N/P 學制） |

## 防爬蟲機制

- **User-Agent 輪替**: 11 種主流瀏覽器
- **固定延遲**: 成功請求後固定等待 2 秒
- **指數退避**: 失敗時 4s → 8s → 16s → 32s → 64s (最多 5 次重試), 帶 jitter (±25%)
- **HTTP 狀態處理**: 429/502/503/504 重試, 404/403/401 不重試
- **URL Failover**: IP + 網域自動切換
- **HTTP 超時**: 每次請求 60 秒
